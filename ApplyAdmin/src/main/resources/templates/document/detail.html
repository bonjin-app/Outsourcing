<th:block xmlns:th="http://www.thymeleaf.org"
          th:replace="layout/layout :: layout(~{::title}, ~{:: #content}, _)">

    <title>Document Detail</title>

    <div id="content" class="content-wrapper pb-0">

        <div class="col-lg-12 grid-margin stretch-card">
            <div class="card">
                <div class="card-body">
                    <h4 class="card-title">Documents</h4>
                    <p class="card-description">Detail</p>

                    <div class="card mb-4">
                        <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                            <h6 class="m-0 font-weight-bold text-primary">Document Detail</h6>
                        </div>
                        <div class="card-body">
                            <form th:object="${document}">
                                <div class="form-group row">
                                    <label for="id" class="col-sm-2 col-form-label">No.</label>
                                    <div class="col-sm-10">
                                        <input type="text" class="form-control" id="id" readonly th:field="*{id}">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="name" class="col-sm-2 col-form-label">Name.</label>
                                    <div class="col-sm-10">
                                        <input type="text" class="form-control" id="name" disabled th:field="*{name}">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="residentId" class="col-sm-2 col-form-label">ResidentId.</label>
                                    <div class="col-sm-10">
                                        <input type="text" class="form-control" id="residentId" disabled th:field="*{residentId}">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="phone" class="col-sm-2 col-form-label">Phone.</label>
                                    <div class="col-sm-10">
                                        <input type="text" class="form-control" id="phone" disabled th:field="*{phone}">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="address" class="col-sm-2 col-form-label">Address.</label>
                                    <div class="col-sm-10">
                                        <input type="text" class="form-control" id="address" disabled th:field="*{address}">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="addressDetail" class="col-sm-2 col-form-label">Address Detail.</label>
                                    <div class="col-sm-10">
                                        <input type="text" class="form-control" id="addressDetail" disabled th:field="*{addressDetail}">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="postCode" class="col-sm-2 col-form-label">Address Postcode.</label>
                                    <div class="col-sm-10">
                                        <input type="text" class="form-control" id="postCode" disabled th:field="*{addressPostcode}">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="recommender" class="col-sm-2 col-form-label">Recommender.</label>
                                    <div class="col-sm-10">
                                        <input type="text" class="form-control" id="recommender" disabled th:field="*{recommender}">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label class="col-sm-2 col-form-label">Signature</label>
                                    <div class="col-sm-10">
                                        <div class="input-group">
                                            <img class="img-thumbnail" src="/custom/images/default_image.png" th:src="@{/document/attachments/{fileId}(fileId=*{fileId})}" alt="Preview Image">
                                        </div>
                                    </div>
                                </div>
                                <div class="py-3 justify-content-between d-sm-flex align-items-center">
                                    <a th:href="@{/document}" class="d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm">
                                        <i class="mdi mdi-format-list-bulleted text-white-50"></i> 목록
                                    </a>
                                    <a href="#" class="btn btn-sm btn-danger shadow-sm" data-toggle="modal" data-target="#deleteModal">
                                        <i class="fas fa-trash text-white-50"></i> 삭제
                                    </a>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Logout Modal-->
        <div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="deleteModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="deleteModalLabel">알림</h5>
                        <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">×</span>
                        </button>
                    </div>
                    <div class="modal-body">정말 삭제할까요?</div>
                    <div class="modal-footer">
                        <button class="btn btn-secondary" type="button" data-dismiss="modal">취소</button>
                        <a class="btn btn-danger" href="javascript:void(0)" onclick="onDelete()">삭제</a>
                    </div>
                </div>
            </div>
        </div>

        <script>
            /*<![CDATA[*/
            function onDelete() {
                var id = [[${document.id}]];
                var form = document.createElement("form");
                var input = document.createElement("input");
                input.setAttribute("type", "hidden");
                input.setAttribute("name", "id");
                input.setAttribute("value", id);

                form.action = "/document/delete";
                form.method = "post";
                form.appendChild(input);

                document.body.appendChild(form);
                form.submit();
            }
            /*]]>*/
        </script>
    </div>

</th:block>